msg_file=$1
msg=$(cat "$msg_file")

# Conventional commits rule
if ! echo "$msg" | grep -Eq "^(feat|fix|chore|docs|refactor|test|style|perf|ci|build)(\(.+\))?: .+"; then
  echo "‚ùå Invalid commit message format!"
  echo ""
  echo "üìù Format: <type>(<scope>): <description>"
  echo ""
  echo "‚úÖ Valid types: feat, fix, chore, docs, refactor, test, style, perf, ci, build"
  echo ""
  echo "Examples:"
  echo "  feat(auth): add login endpoint"
  echo "  fix(ui): resolve button alignment issue"
  echo "  docs: update README with setup instructions"
  echo ""
  exit 1
fi

echo "‚úÖ Commit message is valid!"